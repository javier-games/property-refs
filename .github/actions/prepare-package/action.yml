name: 'Prepare Package'
description: 'Sets the content of the package and build it.'
inputs:
  overwrite-registry-url:
    description: 'Changes the publish config registry URL.'
    required: false
    default: ""
runs:
  using: "composite"
  steps:
    - name: Set Name of the Package
      run: ${GITHUB_ACTION_PATH}/set-publish-config.sh ${{ inputs.overwrite-registry-url }}
      shell: bash

    - name: Upload Artifact
      run: ${GITHUB_ACTION_PATH}/prepare-package-contents.sh
      shell: bash

    - run: npm pack
      shell: bash